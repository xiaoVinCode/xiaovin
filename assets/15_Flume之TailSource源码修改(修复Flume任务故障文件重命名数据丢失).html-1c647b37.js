const e=JSON.parse('{"key":"v-56921dfc","path":"/bigdataComponent/flume/15_Flume%E4%B9%8BTailSource%E6%BA%90%E7%A0%81%E4%BF%AE%E6%94%B9(%E4%BF%AE%E5%A4%8DFlume%E4%BB%BB%E5%8A%A1%E6%95%85%E9%9A%9C%E6%96%87%E4%BB%B6%E9%87%8D%E5%91%BD%E5%90%8D%E6%95%B0%E6%8D%AE%E4%B8%A2%E5%A4%B1).html","title":"15_TailSource源码修改","lang":"zh-CN","frontmatter":{"title":"15_TailSource源码修改","order":1,"author":"xiaovin","date":"2023-04-01T00:00:00.000Z","category":["数据集成"],"sticky":true,"star":true,"description":"1. 问题-Flume任务故障，文件重命名数据丢失 我们常用TailSource来监听日志文件，被监听的日志文件是常配置了按时间滚动生成方式的，也就是一天一个文件，到零点时会将gather.log更名为gather-20230415.log。 由于 tailSource 是根据 iNode + 文件名称组成唯一键进行监听，并记录偏移量的； 假设，设置Flume任务只监听 gather.log（也可以监听整个日志文件夹，但有问题，看完下面就明白） ， Flume采集任务在 2023-04-15的22点出现故障，任务挂掉了，运维人员在第二天上午10点才发现并重启服务；","head":[["meta",{"property":"og:url","content":"https://xiaoVinCode.github.io/xiaovin/xiaovin/bigdataComponent/flume/15_Flume%E4%B9%8BTailSource%E6%BA%90%E7%A0%81%E4%BF%AE%E6%94%B9(%E4%BF%AE%E5%A4%8DFlume%E4%BB%BB%E5%8A%A1%E6%95%85%E9%9A%9C%E6%96%87%E4%BB%B6%E9%87%8D%E5%91%BD%E5%90%8D%E6%95%B0%E6%8D%AE%E4%B8%A2%E5%A4%B1).html"}],["meta",{"property":"og:site_name","content":"文档演示"}],["meta",{"property":"og:title","content":"15_TailSource源码修改"}],["meta",{"property":"og:description","content":"1. 问题-Flume任务故障，文件重命名数据丢失 我们常用TailSource来监听日志文件，被监听的日志文件是常配置了按时间滚动生成方式的，也就是一天一个文件，到零点时会将gather.log更名为gather-20230415.log。 由于 tailSource 是根据 iNode + 文件名称组成唯一键进行监听，并记录偏移量的； 假设，设置Flume任务只监听 gather.log（也可以监听整个日志文件夹，但有问题，看完下面就明白） ， Flume采集任务在 2023-04-15的22点出现故障，任务挂掉了，运维人员在第二天上午10点才发现并重启服务；"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-06-22T07:07:56.000Z"}],["meta",{"property":"article:author","content":"xiaovin"}],["meta",{"property":"article:published_time","content":"2023-04-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-06-22T07:07:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"15_TailSource源码修改\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-04-01T00:00:00.000Z\\",\\"dateModified\\":\\"2023-06-22T07:07:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xiaovin\\"}]}"]]},"headers":[],"git":{"createdTime":1687417676000,"updatedTime":1687417676000,"contributors":[{"name":"v_yangjiahao01","email":"v_yangjiahao01@baidu.com","commits":1}]},"readingTime":{"minutes":1.72,"words":516},"filePathRelative":"bigdataComponent/flume/15_Flume之TailSource源码修改(修复Flume任务故障文件重命名数据丢失).md","localizedDate":"2023年4月1日","excerpt":"<h4> 1. 问题-Flume任务故障，文件重命名数据丢失</h4>\\n<p>我们常用TailSource来监听日志文件，被监听的日志文件是常配置了按时间滚动生成方式的，也就是一天一个文件，到零点时会将gather.log更名为gather-20230415.log。</p>\\n<p>由于 tailSource 是根据 iNode + 文件名称组成唯一键进行监听，并记录偏移量的；</p>\\n<p>假设，设置Flume任务只监听 gather.log（也可以监听整个日志文件夹，但有问题，看完下面就明白） ，</p>\\n<p>Flume采集任务在 2023-04-15的22点出现故障，任务挂掉了，运维人员在第二天上午10点才发现并重启服务；</p>","copyright":{"author":"xiaovin"},"autoDesc":true}');export{e as data};
